{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useCookies } from \"react-cookie\";\nimport { useNavigate } from \"react-router-dom\";\nexport const useLogic = () => {\n  _s();\n  const [search, setSearch] = useState(\"\");\n  const [nominated, setNominated] = useState();\n  const [, setCookie] = useCookies(['movies']);\n  const navigate = useNavigate();\n  const {\n    data,\n    isLoading\n  } = useQuery([\"movies\", [search]], () => axios.get(`https://www.omdbapi.com/?s=${search}&type=movie&apikey=3d85689c`).then(res => {\n    console.log(res.data.Search);\n    return res.data.Search;\n  }));\n  const handleTitleChange = e => {\n    setSearch(e.target.value);\n  };\n  const handleSelectMovie = movie => {\n    setNominated(prev => [...(prev || []), movie]);\n  };\n  const handleNavigate = () => {\n    if (nominated) {\n      setCookie('movies', JSON.stringify(nominated), {\n        path: '/'\n      });\n      navigate('/winner');\n    }\n  };\n  return {\n    handleTitleChange,\n    isLoading,\n    data,\n    setNominated,\n    nominated,\n    handleSelectMovie,\n    handleNavigate\n  };\n};\n_s(useLogic, \"ZehuoGa+9lvpKR0HIrybJUOfcyU=\", false, function () {\n  return [useCookies, useNavigate, useQuery];\n});","map":{"version":3,"names":["axios","useState","useQuery","useCookies","useNavigate","useLogic","_s","search","setSearch","nominated","setNominated","setCookie","navigate","data","isLoading","get","then","res","console","log","Search","handleTitleChange","e","target","value","handleSelectMovie","movie","prev","handleNavigate","JSON","stringify","path"],"sources":["/Users/FatimaElZahraa/shopify/src/Pages/Main/Main.logic.ts"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Movie } from \"./Main.types\";\nimport { useQuery } from \"react-query\";\nimport { useCookies } from \"react-cookie\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport const useLogic = () => {\n  const [search, setSearch] = useState(\"\");\n  const [nominated, setNominated] = useState<Movie[]>();\n  const [, setCookie] = useCookies(['movies']);\n  const navigate = useNavigate();\n  const { data, isLoading } = useQuery<Movie[]>([\"movies\", [search]], () =>\n    axios\n      .get(`https://www.omdbapi.com/?s=${search}&type=movie&apikey=3d85689c`)\n      .then((res) => {\n        console.log(res.data.Search);\n        return res.data.Search;\n      })\n  );\n\n  const handleTitleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearch(e.target.value);\n  };\n\n  const handleSelectMovie = (movie: Movie) => {\n    setNominated((prev) => [...(prev || []), movie]);\n  };\n\n  const handleNavigate = () => {\n    if (nominated) {\n      setCookie('movies', JSON.stringify(nominated), { path: '/' });\n      navigate('/winner')\n    }\n  }\n\n  return {\n    handleTitleChange,\n    isLoading,\n    data,\n    setNominated,\n    nominated,\n    handleSelectMovie,\n    handleNavigate\n  };\n};\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAoBC,QAAQ,QAAQ,OAAO;AAE3C,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,UAAU,QAAQ,cAAc;AACzC,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAU,CAAC;EACrD,MAAM,GAAGU,SAAS,CAAC,GAAGR,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC;EAC5C,MAAMS,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAES,IAAI;IAAEC;EAAU,CAAC,GAAGZ,QAAQ,CAAU,CAAC,QAAQ,EAAE,CAACK,MAAM,CAAC,CAAC,EAAE,MAClEP,KAAK,CACFe,GAAG,CAAE,8BAA6BR,MAAO,6BAA4B,CAAC,CACtES,IAAI,CAAEC,GAAG,IAAK;IACbC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACJ,IAAI,CAACO,MAAM,CAAC;IAC5B,OAAOH,GAAG,CAACJ,IAAI,CAACO,MAAM;EACxB,CAAC,CACL,CAAC;EAED,MAAMC,iBAAiB,GAAIC,CAAsC,IAAK;IACpEd,SAAS,CAACc,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC3B,CAAC;EAED,MAAMC,iBAAiB,GAAIC,KAAY,IAAK;IAC1ChB,YAAY,CAAEiB,IAAI,IAAK,CAAC,IAAIA,IAAI,IAAI,EAAE,CAAC,EAAED,KAAK,CAAC,CAAC;EAClD,CAAC;EAED,MAAME,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAInB,SAAS,EAAE;MACbE,SAAS,CAAC,QAAQ,EAAEkB,IAAI,CAACC,SAAS,CAACrB,SAAS,CAAC,EAAE;QAAEsB,IAAI,EAAE;MAAI,CAAC,CAAC;MAC7DnB,QAAQ,CAAC,SAAS,CAAC;IACrB;EACF,CAAC;EAED,OAAO;IACLS,iBAAiB;IACjBP,SAAS;IACTD,IAAI;IACJH,YAAY;IACZD,SAAS;IACTgB,iBAAiB;IACjBG;EACF,CAAC;AACH,CAAC;AAACtB,EAAA,CAtCWD,QAAQ;EAAA,QAGGF,UAAU,EACfC,WAAW,EACAF,QAAQ;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}